{"version":3,"sources":["js/closest.js","js/delegate.js","js/main.js"],"names":["DOCUMENT_NODE_TYPE","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","nodeType","parentNode","module","exports","require","_delegate","type","callback","useCapture","listenerFn","listener","apply","arguments","addEventListener","destroy","removeEventListener","delegate","elements","bind","document","querySelectorAll","Array","map","call","e","delegateTarget","target","hasClass","el","className","classList","contains","match","RegExp","addClass","add","removeClass","remove","reg","replace","body"],"mappings":";AAAA,IAAIA,EAAqB,EAKzB,GAAuB,oBAAZC,UAA4BA,QAAQC,UAAUC,QAAS,CAC1DC,IAAAA,EAAQH,QAAQC,UAEpBE,EAAMD,QAAUC,EAAMC,iBACND,EAAME,oBACNF,EAAMG,mBACNH,EAAMI,kBACNJ,EAAMK,sBAU1B,SAASC,EAASC,EAASC,GAChBD,KAAAA,GAAWA,EAAQE,WAAab,GAAoB,CACnD,GAA2B,mBAApBW,EAAQR,SACfQ,EAAQR,QAAQS,GACXD,OAAAA,EAETA,EAAUA,EAAQG,YAI1BC,OAAOC,QAAUN;;AC9BjB,IAAIA,EAAUO,QAAQ,aAYtB,SAASC,EAAUP,EAASC,EAAUO,EAAMC,EAAUC,GAC9CC,IAAAA,EAAaC,EAASC,MAAM,KAAMC,WAI/B,OAFPd,EAAQe,iBAAiBP,EAAMG,EAAYD,GAEpC,CACHM,QAAS,WACLhB,EAAQiB,oBAAoBT,EAAMG,EAAYD,KAe1D,SAASQ,EAASC,EAAUlB,EAAUO,EAAMC,EAAUC,GAE9C,MAAqC,mBAA9BS,EAASJ,iBACTR,EAAUM,MAAM,KAAMC,WAIb,mBAATN,EAGAD,EAAUa,KAAK,KAAMC,UAAUR,MAAM,KAAMC,YAI9B,iBAAbK,IACPA,EAAWE,SAASC,iBAAiBH,IAIlCI,MAAMhC,UAAUiC,IAAIC,KAAKN,EAAU,SAAUnB,GACzCO,OAAAA,EAAUP,EAASC,EAAUO,EAAMC,EAAUC,MAa5D,SAASE,EAASZ,EAASC,EAAUO,EAAMC,GAChC,OAAA,SAASiB,GACZA,EAAEC,eAAiB5B,EAAQ2B,EAAEE,OAAQ3B,GAEjCyB,EAAEC,gBACFlB,EAASgB,KAAKzB,EAAS0B,IAKnCtB,OAAOC,QAAUa;;ACtChB,aAzCD,IAAA,EAAA,EAAA,QAAA,eACA,EAAA,EAAA,QAAA,cAwCC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAhBD,SAASW,EAASC,EAAIC,GACdD,OAAAA,EAAGE,UAAkBF,EAAGE,UAAUC,SAASF,KACtCD,EAAGC,UAAUG,MAAM,IAAIC,OAAO,UAAYJ,EAAY,YAGnE,SAASK,EAASN,EAAIC,GACdD,EAAGE,UAAWF,EAAGE,UAAUK,IAAIN,GACzBF,EAASC,EAAIC,KAAYD,EAAGC,WAAa,IAAMA,GAG7D,SAASO,EAAYR,EAAIC,GACjBD,GAAAA,EAAGE,UAAWF,EAAGE,UAAUO,OAAOR,QACjC,GAAIF,EAASC,EAAIC,GAAY,CAC1BS,IAAAA,EAAM,IAAIL,OAAO,UAAYJ,EAAY,WAC7CD,EAAGC,UAAYD,EAAGC,UAAUU,QAAQD,EAAK,OApCjD,EACI,EAAA,SAAA,2BACA,QACA,SAASd,GACLU,EAASf,SAASqB,KAAM,aAExBN,GADe,EAAQV,EAAAA,SAAAA,EAAEC,eAAgB,mBACxB,QAErB,IAGJ,EACI,EAAA,SAAA,0DACA,QACA,SAASD,GAELY,GADe,EAAQZ,EAAAA,SAAAA,EAAEC,eAAgB,mBACrB,MACpBW,EAAYjB,SAASqB,KAAM,eAE/B","file":"main.b241f0da.map","sourceRoot":"..","sourcesContent":["var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","// from: https://github.com/zenorocha/delegate\n\nvar closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","import delegate from \"./delegate\"\nimport closest from \"./closest\"\n\ndelegate(\n    \".details-dialog .summary\",\n    \"click\",\n    function(e) {\n        addClass(document.body, \"dialog-on\")\n        const detail = closest(e.delegateTarget, \".details-dialog\")\n        addClass(detail, \"on\")\n    },\n    false\n)\n\ndelegate(\n    \".details-dialog .overlay, .details-dialog .dialog-close\",\n    \"click\",\n    function(e) {\n        const detail = closest(e.delegateTarget, \".details-dialog\")\n        removeClass(detail, \"on\")\n        removeClass(document.body, \"dialog-on\")\n    },\n    false\n)\n\nfunction hasClass(el, className) {\n    if (el.classList) return el.classList.contains(className)\n    return !!el.className.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"))\n}\n\nfunction addClass(el, className) {\n    if (el.classList) el.classList.add(className)\n    else if (!hasClass(el, className)) el.className += \" \" + className\n}\n\nfunction removeClass(el, className) {\n    if (el.classList) el.classList.remove(className)\n    else if (hasClass(el, className)) {\n        var reg = new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\")\n        el.className = el.className.replace(reg, \" \")\n    }\n}\n"]}