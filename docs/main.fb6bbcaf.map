{"version":3,"sources":["js/closest.js","js/delegate.js","js/main.js"],"names":["DOCUMENT_NODE_TYPE","Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","closest","element","selector","nodeType","parentNode","module","exports","require","_delegate","type","callback","useCapture","listenerFn","listener","apply","arguments","addEventListener","destroy","removeEventListener","delegate","elements","bind","document","querySelectorAll","Array","map","call","e","delegateTarget","target","addClass","documentElement","detail","removeClass","hasClass","el","className","classList","contains","match","RegExp","add","remove","reg","replace"],"mappings":"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","file":"main.fb6bbcaf.map","sourceRoot":"..","sourcesContent":["var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","// from: https://github.com/zenorocha/delegate\n\nvar closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","import delegate from \"./delegate\"\nimport closest from \"./closest\"\n\ndelegate(\n    \".details-dialog .summary\",\n    \"click\",\n    function(e) {\n        addClass(document.documentElement, \"dialog-on\")\n        const detail = closest(e.delegateTarget, \".details-dialog\")\n        addClass(detail, \"on\")\n    },\n    false\n)\n\ndelegate(\n    \".details-dialog .overlay, .details-dialog .dialog-close\",\n    \"click\",\n    function(e) {\n        const detail = closest(e.delegateTarget, \".details-dialog\")\n        removeClass(detail, \"on\")\n        removeClass(document.documentElement, \"dialog-on\")\n    },\n    false\n)\n\nfunction hasClass(el, className) {\n    if (el.classList) return el.classList.contains(className)\n    return !!el.className.match(new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\"))\n}\n\nfunction addClass(el, className) {\n    if (el.classList) el.classList.add(className)\n    else if (!hasClass(el, className)) el.className += \" \" + className\n}\n\nfunction removeClass(el, className) {\n    if (el.classList) el.classList.remove(className)\n    else if (hasClass(el, className)) {\n        var reg = new RegExp(\"(\\\\s|^)\" + className + \"(\\\\s|$)\")\n        el.className = el.className.replace(reg, \" \")\n    }\n}\n"]}